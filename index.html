<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Santiago Soto - Pintor de Mascotas</title>
    <!-- SEO B√°sico -->
    <meta name="description" content="Portfolio de Santiago Soto, joven artista de 14 a√±os especializado en retratos hiperrealistas al √≥leo de mascotas.">
    <meta name="keywords" content="arte, pintura, oleo, mascotas, retratos, joven artista, hiperrealismo, Santiago Soto">
    <link rel="canonical" href="https://santiago-soto-arte.vercel.app/">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Santiago Soto - Pintor de Mascotas">
    <meta property="og:description" content="Retratos hiperrealistas al √≥leo que capturan la esencia de tus mascotas.">
    <meta property="og:url" content="https://santiago-soto-arte.vercel.app/">
    <meta property="og:image" content="https://santiago-soto-arte.vercel.app/assets/images/banner.png">
    <meta property="og:locale" content="es_ES">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Santiago Soto - Pintor de Mascotas">
    <meta name="twitter:description" content="Retratos al √≥leo de mascotas ‚Äì arte joven con detalle y alma.">
    <meta name="twitter:image" content="https://santiago-soto-arte.vercel.app/assets/images/banner.png">

    <!-- Favicon / Icons -->
    <link rel="icon" type="image/svg+xml" href="/assets/images/favicon.svg">
    <link rel="apple-touch-icon" href="/assets/images/favicon.svg">
    <link rel="manifest" href="/site.webmanifest">

    <!-- Accesibilidad y color -->
    <meta name="theme-color" content="#ffffff">

    <!-- Preconnect Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/about-artistic.css">
    <link rel="stylesheet" href="assets/css/pencil-hero.css">
    <link rel="stylesheet" href="assets/css/contact.css">
    <link rel="stylesheet" href="assets/css/pricing.css">
    <link rel="stylesheet" href="assets/css/gamification.css">
    <link rel="stylesheet" href="assets/css/payment-gateway.css">
    <link rel="stylesheet" href="assets/css/memory-game.css">
    <link rel="stylesheet" href="assets/css/memory-legacy.css">
    <link rel="stylesheet" href="assets/css/unified-memory.css">
    <link rel="stylesheet" href="assets/css/contribution-portal.css">
    <link rel="stylesheet" href="assets/css/contributor-dashboard.css">
    <link rel="stylesheet" href="assets/css/leaderboard.css">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
        <!-- JSON-LD Schema.org -->
        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@graph": [
                {
                    "@type": "Person",
                    "@id": "https://santiago-soto-arte.vercel.app/#person",
                    "name": "Santiago Soto",
                    "alternateName": "Santiago Soto Arte",
                    "description": "Joven artista de 14 a√±os especializado en retratos hiperrealistas al √≥leo de mascotas.",
                    "url": "https://santiago-soto-arte.vercel.app/",
                    "image": "https://santiago-soto-arte.vercel.app/assets/images/banner.png",
                    "knowsAbout": ["pintura al √≥leo", "retratos de mascotas", "arte hiperrealista"],
                    "sameAs": []
                },
                {
                    "@type": "WebSite",
                    "@id": "https://santiago-soto-arte.vercel.app/#website",
                    "name": "Santiago Soto Arte",
                    "url": "https://santiago-soto-arte.vercel.app/",
                    "inLanguage": "es",
                    "description": "Portfolio de arte y retratos de mascotas al √≥leo por Santiago Soto.",
                    "publisher": { "@id": "https://santiago-soto-arte.vercel.app/#person" }
                }
            ]
        }
        </script>
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <img src="assets/images/favicon.svg" alt="Santiago Soto Arte" class="logo-image">
                <div class="logo-text">
                    <h2>Santiago Soto</h2>
                    <span>Pintura al √ìleo</span>
                </div>
            </div>
            <ul class="nav-menu">
                <li><a href="#inicio">Inicio</a></li>
                <li><a href="#galeria">Galer√≠a</a></li>
                <li><a href="#juegos">Juegos</a></li>
                <li><a href="#sobre-mi">Sobre M√≠</a></li>
                <li><a href="#pricing">Precios</a></li>
                <li><a href="#contacto">Contacto</a></li>
                <li>
                    <button class="cart-button" onclick="paymentGateway?.toggleCart()">
                        üõí Carrito
                        <span class="cart-icon-count">0</span>
                    </button>
                </li>
            </ul>
        </div>
    </nav>

    <section id="inicio" class="hero">
        <div class="hero-content">
            <h1>Santiago Soto</h1>
            <p class="hero-subtitle">Joven maestro de <span class="age-highlight">14 a√±os</span> que pinta con el coraz√≥n</p>

            <div class="hero-poetry">
                Cada pincelada cuenta una historia, cada obra abraza un alma.
                En el silencio del lienzo, nacen los retratos que inmortalizan
                el amor incondicional de nuestros fieles compa√±eros.
            </div>

            <div class="hero-buttons">
                <button class="btn-primary" onclick="scrollToSection('galeria')">
                    üñºÔ∏è Descubrir mi Arte
                </button>
                <button class="btn-secondary" onclick="scrollToSection('pricing')">
                    üé® Encargar Retrato
                </button>
            </div>
        </div>

        <div class="hero-visual">
            <div class="sketch-showcase">
                <!-- Cuaderno de Dibujo -->
                <div class="sketch-notebook">
                    <div class="notebook-page">
                        <div class="sketch-area">
                            <div class="rotating-sketches">
                                <!-- Los bocetos se cargar√°n din√°micamente -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- L√°pices Flotantes -->
                <div class="floating-pencils">
                    <!-- L√°pices se crean din√°micamente -->
                </div>

                <!-- Herramientas de Dibujo -->
                <div class="sketch-tools">
                    <div class="sketch-tool eraser" title="Borrador">üßΩ</div>
                    <div class="sketch-tool sharpener" title="Sacapuntas">üìê</div>
                </div>
            </div>
        </div>
    </section>

    <section id="galeria" class="gallery">
        <div class="container">
            <h2>Galer√≠a de Obras</h2>
            <div class="gallery-tabs">
                <button class="gallery-tab active" onclick="switchGallery('practice', this)">üé® Obras de Pr√°ctica</button>
                <button class="gallery-tab" onclick="switchGallery('real', this)">üèÜ Galer√≠a Oficial</button>
            </div>

            <!-- Galer√≠a de pr√°ctica (obras actuales) -->
            <div id="practice-gallery" class="gallery-content active">
                <div class="gallery-filter">
                    <button class="filter-btn active" data-filter="all">Todas</button>
                    <button class="filter-btn" data-filter="digital">Arte Digital</button>
                    <button class="filter-btn" data-filter="tradicional">Arte Tradicional</button>
                    <button class="filter-btn" data-filter="abstracto">Abstracto</button>
                </div>
                <div class="gallery-grid" id="galleryGrid">
                    <!-- Las obras de pr√°ctica se cargar√°n din√°micamente -->
                </div>
            </div>

            <!-- Galer√≠a real (obras oficiales de Santiago) -->
            <div id="real-gallery" class="gallery-content">
                <div class="gallery-filter">
                    <button class="real-filter-btn active" data-filter="all">Todas</button>
                    <button class="real-filter-btn" data-filter="disponible">Disponibles</button>
                    <button class="real-filter-btn" data-filter="vendida">Vendidas</button>
                    <button class="real-filter-btn" data-filter="exhibici√≥n">En Exhibici√≥n</button>
                </div>
                <div id="artwork-stats" class="artwork-stats">
                    <!-- Estad√≠sticas se cargar√°n autom√°ticamente -->
                </div>
                <div class="gallery-grid" id="real-gallery-grid">
                    <!-- Las obras reales se cargar√°n din√°micamente -->
                </div>
            </div>
        </div>
    </section>


    <section id="juegos" class="games-section">
        <div class="container">
            <h2>üéÆ Espacio Creativo</h2>
            <p class="section-subtitle">Juega, gana puntos y obt√©n descuentos reales</p>

            <div class="games-layout">
                <div class="games-main">
                    <div class="games-menu">
                        <button class="game-btn featured" onclick="artGames.colorMixingGame()">üß™ Laboratorio de Mezclas</button>
                        <button class="game-btn featured" onclick="GameCore && GameCore.mountGame ? GameCore.mountGame('unified-memory', document.getElementById('game-container')) : console.warn('GameCore no disponible')">üé® Memoria Art√≠stica</button>
                        <button class="game-btn" onclick="artGames.ideaGenerator()">üí° Generador de Ideas</button>
                        <button class="game-btn" onclick="showMotivation()">‚ú® Motivaci√≥n Diaria</button>
                        <button class="game-btn" onclick="showContributionPortal()">‚ûï Aporta tu Par Creativo</button>
                        <button class="game-btn" onclick="showLeaderboard()">üèÜ Sal√≥n de la Fama</button>
                    </div>
                    <div id="game-container" class="game-container">
                        <div class="welcome-game">
                            <h3>¬°Bienvenido al espacio creativo!</h3>
                            <p>Elige un juego para desarrollar tu inspiraci√≥n art√≠stica</p>
                            <div class="game-benefits">
                                <h4>üéÅ ¬øQu√© ganas jugando?</h4>
                                <ul>
                                    <li>üéØ Puntos por cada actividad</li>
                                    <li>üèÜ Logros especiales por habilidades</li>
                                    <li>üí∞ Descuentos reales en encargos (hasta 20%)</li>
                                    <li>üé® Apoyas el crecimiento de Santiago</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- Portal de Contribuci√≥n -->
                    <div id="contribution-portal" class="game-portal" style="display:none;">
                        <button class="portal-close-btn" id="close-contribution-portal" aria-label="Cerrar portal">√ó</button>

                        <h3>üé® Convi√©rtete en Creador</h3>
                        <p>Aporta tu conocimiento art√≠stico y gana recompensas √∫nicas.</p>

                        <div class="contribution-step">
                            <h4>Paso 1: Describe tu Par</h4>
                            <input type="text" id="contribution-pair-name" placeholder="Nombre del par (ej. Colores C√°lidos y Fr√≠os)" maxlength="50">

                            <select id="contribution-category">
                                <option value="colorTheory">üé® Teor√≠a del Color</option>
                                <option value="techniques">üñåÔ∏è T√©cnicas de Pintura</option>
                                <option value="artHistory">üèõÔ∏è Historia del Arte</option>
                                <option value="composition">üìê Composici√≥n</option>
                                <option value="materials">üéØ Materiales</option>
                            </select>

                            <select id="contribution-difficulty">
                                <option value="easy">üå± F√°cil (+200 pts)</option>
                                <option value="medium">üß† Medio (+350 pts)</option>
                                <option value="hard">üéì Dif√≠cil (+500 pts)</option>
                            </select>
                        </div>

                        <div class="contribution-step">
                            <h4>Paso 2: Dise√±a las Cartas</h4>
                            <div class="card-designer">
                                <div class="card-preview-container">
                                    <label>Carta 1 (Pregunta/Concepto)</label>
                                    <div class="card-preview" id="card1-preview">
                                        <span class="preview-placeholder">üì∑ Subir imagen</span>
                                    </div>
                                    <input type="file" id="card1-file" accept="image/svg+xml, image/png, image/jpeg">
                                </div>
                                <div class="card-preview-container">
                                    <label>Carta 2 (Respuesta/Par)</label>
                                    <div class="card-preview" id="card2-preview">
                                        <span class="preview-placeholder">üì∑ Subir imagen</span>
                                    </div>
                                    <input type="file" id="card2-file" accept="image/svg+xml, image/png, image/jpeg">
                                </div>
                            </div>
                        </div>

                        <div class="contribution-step">
                            <h4>Paso 3: El Toque Educativo</h4>
                            <textarea id="contribution-educational" placeholder="¬øPor qu√© este par es art√≠sticamente relevante? (ej. Los colores c√°lidos transmiten energ√≠a, mientras los fr√≠os evocan calma)"></textarea>
                            <textarea id="contribution-learning" placeholder="¬øQu√© concepto clave aprende el jugador? (ej. Comprender la temperatura del color mejora la composici√≥n emocional)"></textarea>
                        </div>

                        <button class="btn-primary" id="submit-contribution">‚ú® Enviar para Aprobaci√≥n</button>
                        <p class="contribution-reward">
                            Al ser aprobado, recibir√°s <strong>200 puntos</strong> y el badge de <strong>Creador Aprendiz</strong> üèÜ
                        </p>
                    </div>

                    <!-- Sal√≥n de la Fama -->
                    <div id="leaderboard-container" class="game-portal" style="display:none;">
                        <button class="leaderboard-close-btn" onclick="Leaderboard.close()" aria-label="Cerrar sal√≥n de la fama">√ó</button>

                        <h3>üèÜ Sal√≥n de la Fama de Creadores</h3>
                        <p>Los artistas que dan vida a este juego con sus contribuciones.</p>

                        <div id="leaderboard-grid">
                            <!-- El leaderboard se renderizar√° din√°micamente aqu√≠ -->
                        </div>
                    </div>
                </div>

                <div class="games-sidebar">
                    <div id="patron-display">
                        <!-- El Art Patron System se cargar√° aqu√≠ -->
                    </div>
                    <div id="contributor-dashboard">
                        <!-- El Contributor Dashboard se cargar√° aqu√≠ -->
                    </div>
                    <div id="quiz-live-panel" class="quiz-live-panel" aria-live="polite" hidden>
                        <h4>‚ùì Quiz Progreso</h4>
                        <p><strong>Aciertos:</strong> <span id="quiz-correct-count">0</span>/<span id="quiz-total-count">0</span></p>
                        <p><strong>Racha:</strong> <span id="quiz-streak">0</span></p>
                        <p class="quiz-last-feedback" id="quiz-last-feedback"></p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="sobre-mi">
        <!-- Part√≠culas de pintura -->
        <div class="paint-particles" id="particles"></div>

        <div class="container">
            <!-- Header -->
            <div class="artist-header">
                <h1 class="sketch-title" data-text="Sobre M√≠">Sobre M√≠</h1>
                <p class="subtitle">Mi historia con la pintura</p>
                <div class="pencil-line"></div>
            </div>

            <!-- Cuaderno de bocetos -->
            <div class="sketchbook">
                <div class="pencil-sketch sketch-heart">‚ô•</div>
                <div class="pencil-sketch sketch-brush">üñåÔ∏è</div>
                
                <div class="story-content">
                    <p class="story-paragraph">
                        Soy <span class="highlight">Santiago Soto</span>, tengo 14 a√±os y descubr√≠ mi pasi√≥n por la pintura a los 10. Desde hace un a√±o me dedico a trabajar con la <span class="highlight">t√©cnica de √≥leo sobre lienzo</span>, explorando especialmente el retrato de mascotas.
                    </p>
                    
                    <p class="story-paragraph">
                        A trav√©s de mis obras busco <span class="highlight">inmortalizar los recuerdos</span> y transmitir los sentimientos que un animal despierta en la vida de una persona. Cada pincelada cuenta una historia, cada mirada expresa el alma de nuestros compa√±eros fieles.
                    </p>
                </div>
            </div>

            <!-- Timeline -->
            <div class="timeline">
                <h2 class="timeline-title">üé® Mi Evoluci√≥n Art√≠stica</h2>
                
                <div class="timeline-container">
                    <div class="timeline-line"></div>
                    
                    <div class="timeline-item">
                        <div class="timeline-dot"></div>
                        <div class="timeline-content">
                            <div class="timeline-year">2020</div>
                            <div class="timeline-event">Primeros trazos</div>
                            <div class="timeline-description">Empec√© a dibujar y descubr√≠ que me gustaba expresarme a trav√©s del arte</div>
                        </div>
                    </div>
                    
                    <div class="timeline-item">
                        <div class="timeline-dot"></div>
                        <div class="timeline-content">
                            <div class="timeline-year">2024</div>
                            <div class="timeline-event">Inicio con √≥leo</div>
                            <div class="timeline-description">Comenc√© a pintar al √≥leo y me enfoqu√© en retratos de mascotas</div>
                        </div>
                    </div>
                    
                    <div class="timeline-item">
                        <div class="timeline-dot"></div>
                        <div class="timeline-content">
                            <div class="timeline-year">Hoy</div>
                            <div class="timeline-event">Aprendiendo cada d√≠a</div>
                            <div class="timeline-description">Practico constantemente para mejorar mi t√©cnica</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Estad√≠sticas -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">üé®</div>
                    <div class="stat-number" id="years-counter">0</div>
                    <div class="stat-label">A√±os dibujando</div>
                    <div class="stat-sublabel">Clases profesionales desde 2021</div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon">üñåÔ∏è</div>
                    <div class="stat-number" id="months-counter">0</div>
                    <div class="stat-label">Meses con √≥leo</div>
                    <div class="stat-sublabel">Desde diciembre 2023</div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon">‚ú®</div>
                    <div class="stat-number">‚àû</div>
                    <div class="stat-label">Por aprender</div>
                    <div class="stat-sublabel">Siempre hay m√°s por descubrir</div>
                </div>
            </div>
        </div>
    </section>

    <section id="pricing" class="pricing-section">
        <div class="container">
            <h2>üí∞ Precios y Encargos</h2>
            <p class="section-subtitle">Encuentra el precio justo para tu obra personalizada</p>

            <div class="pricing-content">
                <div class="pricing-intro">
                    <h3>üé® ¬øC√≥mo se determina el precio?</h3>
                    <p>Cada obra es √∫nica, y el precio refleja el tiempo, t√©cnica y dedicaci√≥n que Santiago pone en cada retrato. Nuestra calculadora considera m√∫ltiples factores para darte una estimaci√≥n justa y transparente.</p>

                    <div class="pricing-factors">
                        <div class="factor">
                            <span class="factor-icon">üìè</span>
                            <span>Tama√±o</span>
                        </div>
                        <div class="factor">
                            <span class="factor-icon">üé®</span>
                            <span>Complejidad</span>
                        </div>
                        <div class="factor">
                            <span class="factor-icon">üñåÔ∏è</span>
                            <span>T√©cnica</span>
                        </div>
                        <div class="factor">
                            <span class="factor-icon">‚è∞</span>
                            <span>Tiempo</span>
                        </div>
                        <div class="factor">
                            <span class="factor-icon">üêæ</span>
                            <span>Tipo de mascota</span>
                        </div>
                    </div>
                </div>

                <div id="calculator-container">
                    <!-- La calculadora se cargar√° aqu√≠ din√°micamente -->
                </div>
            </div>
        </div>
    </section>

    <section id="future" class="future-section">
        <div class="container">
            <h2>üöÄ Explorando el Futuro</h2>
            <p class="section-subtitle">Santiago y el mundo del arte digital</p>

            <div class="future-content">
                <div class="roadmap">
                    <div class="roadmap-item active">
                        <div class="roadmap-icon">üé®</div>
                        <h3>Fase Actual: Maestr√≠a Tradicional</h3>
                        <p>Perfeccionando la t√©cnica del √≥leo y construyendo un portafolio s√≥lido de obras f√≠sicas</p>
                        <div class="progress-bar">
                            <div class="progress" style="width: 75%"></div>
                        </div>
                        <span class="progress-text">75% Completado</span>
                    </div>

                    <div class="roadmap-item upcoming">
                        <div class="roadmap-icon">üì±</div>
                        <h3>Siguiente: Transici√≥n Digital</h3>
                        <p>Experimentando con arte digital, creando contenido educativo y construyendo comunidad online</p>
                        <div class="timeline">Pr√≥ximos 6 meses</div>
                    </div>

                    <div class="roadmap-item future">
                        <div class="roadmap-icon">üåê</div>
                        <h3>Futuro: Innovaci√≥n Blockchain</h3>
                        <p>Cuando el mercado NFT madure, exploraremos tokenizaci√≥n inteligente con utilidad real</p>
                        <div class="timeline">2025-2026</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="contacto" class="contact">
        <div class="container">
            <h2>Conectemos</h2>
            <p>¬øInteresado en adquirir una obra o colaborar?</p>
            <div class="contact-content">
                <div class="contact-options">
                    <div class="contact-card" data-section="encargo-personalizado">
                        <div class="contact-icon">üé®</div>
                        <h3>Encargo Personalizado</h3>
                        <p>¬øQuieres un retrato de tu mascota? Cu√©ntame sobre tu compa√±ero fiel y crearemos algo especial juntos.</p>
                        <button class="contact-btn" onclick="openContactModal('encargo')">Solicitar Encargo</button>
                    </div>
                    <div class="contact-card" data-section="productos-unicos">
                        <div class="contact-icon">üíù</div>
                        <h3>Productos √önicos</h3>
                        <p>Lleva el arte de tu mascota a vasos, camisetas, o kits especiales para inmortalizar esos momentos.</p>
                        <button class="contact-btn" onclick="openContactModal('productos')">Ver Productos</button>
                    </div>
                    <div class="contact-card" data-section="colaboracion">
                        <div class="contact-icon">ü§ù</div>
                        <h3>Colaboraci√≥n</h3>
                        <p>¬øTienes ideas para proyectos? Me encanta aprender y explorar nuevas formas de crear arte.</p>
                        <button class="contact-btn" onclick="openContactModal('colaboracion')">Colaborar</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Modal de Contacto -->
    <div id="contactModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeContactModal()">&times;</span>
            <div id="modal-content-area">
                <!-- El contenido se cargar√° din√°micamente -->
            </div>
        </div>
    </div>

    <!-- Carrito Sidebar -->
    <div id="cart-sidebar">
        <div class="cart-header">
            <h3>üõí Tu Carrito</h3>
            <button class="cart-close" onclick="paymentGateway?.closeCart()">√ó</button>
        </div>
        <div class="cart-content">
            <!-- El contenido del carrito se cargar√° din√°micamente -->
        </div>
    </div>

    <!-- Modal de Checkout -->
    <div id="checkout-modal">
        <div class="checkout-content">
            <!-- El contenido del checkout se cargar√° din√°micamente -->
        </div>
    </div>

    <!-- Widget flotante del carrito -->
    <div id="floating-cart-widget" class="floating-cart-widget" role="button" aria-label="Abrir carrito" tabindex="0">
        <div class="fcw-icon">üõí</div>
        <div class="fcw-info">
            <span class="fcw-count" id="fcw-count">0</span>
            <span class="fcw-total" id="fcw-total">$0</span>
        </div>
        <div class="fcw-pulse" id="fcw-pulse"></div>
    </div>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2024 Santiago Soto Arte. Todos los derechos reservados.</p>
        </div>
    </footer>

    <!-- Stripe SDK -->
    <script src="https://js.stripe.com/v3/"></script>

    <script src="assets/js/auth.js"></script>
    <script src="assets/js/art-patron-system.js"></script>
    <script src="assets/js/pencil-hero.js"></script>
    <script src="assets/js/main.js"></script>
    <script src="assets/js/about-artistic.js"></script>
    <!-- N√∫cleo modular de juegos y dataset de razas (debe cargarse antes del memory-game modular) -->
    <script src="assets/js/data/animal-data.js"></script>
    <script src="assets/js/data/creative-pairs.js"></script>
    <script src="assets/js/data/pairs-library.js"></script>
    <script src="assets/js/user-profile.js"></script>
    <script src="assets/js/contributor-dashboard.js"></script>
    <script src="assets/js/games/core.js"></script>
    <script src="assets/js/games/storage.js"></script>
    <script src="assets/js/games/xp.js"></script>
    <script src="assets/js/games/memory-game.js"></script>
    <script src="assets/js/games/quiz-game.js"></script>
    <script src="assets/js/games/contribution-portal.js"></script>
    <script src="assets/js/games/leaderboard.js"></script>
    <!-- Unified memory game se registra de forma diferida si GameCore a√∫n no existe -->
    <script src="assets/js/games/unified-memory.js"></script>
    <!-- Legacy bundle de juegos (manteniendo memoria cl√°sica temporalmente) -->
    <script src="assets/js/games.js"></script>
    <script src="assets/js/real-artworks.js"></script>
    <script src="assets/js/contact.js"></script>
    <script src="assets/js/pricing-calculator.js"></script>
    <script src="assets/js/cart.js"></script>
    <script src="assets/js/payment-gateway.js"></script>
            <script src="assets/js/validation-logger.js"></script>
            <style>
                .quiz-hidden { display:none; }
                    .quiz-live-panel { background:#111; border:1px solid #333; padding:12px 14px; border-radius:8px; margin-top:16px; font-size:0.9rem; line-height:1.3; }
                    .quiz-live-panel h4 { margin:0 0 6px; font-size:1rem; }
                    .quiz-live-panel .good { color:#4caf50; }
                    .quiz-live-panel .bad { color:#ff5252; }
                    .quiz-live-panel .streak { color:#ffb300; font-weight:600; }
            </style>
        <script>
            // Mostrar bot√≥n Quiz si flag activo
            (function(){
                function revealQuiz(){
                    try {
                        if(window.GameCore && GameCore.flags && GameCore.flags.enableQuiz){
                              const btn = document.getElementById('quiz-btn'); if(btn) btn.classList.remove('quiz-hidden');
                                    // Registrar listeners para panel live
                                    setupQuizLivePanel();
                        }
                    } catch(e) {}
                }
                // Intentar varias veces por carga as√≠ncrona
                if(document.readyState === 'loading'){
                    document.addEventListener('DOMContentLoaded', revealQuiz);
                } else { revealQuiz(); }
                setTimeout(revealQuiz, 500);
                setTimeout(revealQuiz, 1200);
                        function setupQuizLivePanel(){
                            if(window.__quizPanelSetup) return; window.__quizPanelSetup = true;
                            const panel = document.getElementById('quiz-live-panel'); if(!panel) return;
                            const correctEl = document.getElementById('quiz-correct-count');
                            const totalEl = document.getElementById('quiz-total-count');
                            const fbEl = document.getElementById('quiz-last-feedback');
                            const streakEl = document.getElementById('quiz-streak');
                            let correct = 0; let total = 0; let streak = 0;
                            GameCore.eventBus.on('quiz.started', (e)=>{
                                correct = 0; streak = 0; total = e.total || 0; panel.hidden = false;
                                correctEl.textContent = '0'; totalEl.textContent = total; streakEl.textContent = '0'; fbEl.textContent='';
                            });
                                GameCore.eventBus.on('quiz.answered', (e)=>{
                                if(e.correct){ correct++; streak++; fbEl.innerHTML = '<span class="good">‚úî Correcto (+'+ (e.earned||0) +')</span>'; }
                                else { streak = 0; fbEl.innerHTML = '<span class="bad">‚úñ Incorrecto</span>'; }
                                correctEl.textContent = correct; streakEl.textContent = streak; if(streak>1) fbEl.innerHTML += ' <span class="streak">Racha x'+streak+'</span>';
                            });
                            GameCore.eventBus.on('quiz.completed', ()=>{ fbEl.innerHTML += '<br><strong>Fin del quiz</strong>'; });
                            // Opcional: ocultar si se desmonta juego distinto
                            GameCore.eventBus.on('game.mounted', ({id})=>{ if(id !== 'quiz-color') { panel.hidden = true; }});
                        }
            })();
        </script>
        <!-- Ejemplo de uso de authFetch (cuando exista backend):
        <script>
            // setInitialAccessToken('TOKEN_INICIAL') // despu√©s de login
            // getProtectedJson('/api/usuario/perfil')
            //   .then(data => console.log('Perfil:', data))
            //   .catch(err => console.error('Error perfil', err));
        </script>
        -->
</body>
</html>